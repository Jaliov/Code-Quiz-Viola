var multiChoices=[{question:"<h4 class = 'text-left'>The viola is a member of which family of musical instruments?</h4><ol class = 'text-left'><li>Brass</li><li>String</li><li>Woodwinds</li></ol>",answer:"2"},{question:"<h4 class = 'text-left'>The size of a viola, compared to a violin is usually a bit:</h4><ol class = 'text-left'><li>Larger</li><li>Smaller</li><li>Just the same</li></ol>",answer:"1"},{question:"<h4 class = 'text-left'>Compared to a violin, the 4 strings of a viola are tuned:</h4><ol class = 'text-left'><li>Higher than a violin</li><li>Lower than a violin</li><li>Lower than a cello</li><ol class = 'text-left'>",answer:"2"},{question:"<h4 class = 'text-left'>The viola when played is held under the chin like a violin:</h4><ol class = 'text-left'><li>true</li><li>false</li><li>Neither</li></ol>",answer:"1"},{question:"<h4 class = 'text-left'>Generally speaking, the role of the viola in the symphony orchestra is</h4><ol class = 'text-left'><li>Mostly melody</li><li>Mostly accompaniment</li><li>The bass line</li></ol>",answer:"2"},{question:"<h4 class = 'text-left'>Perhaps the most famous work for solo viola is entitled:</h4><ol class = 'text-left'><li><em>Finalandia</em></li><li><em>Afternoon of a Fawn</em></li><li><em>Harold in Italy</em></li></ol>",answer:"3"},{question:""}],qIndex=0;let nextQuesArr=[],quesSection=document.querySelector("section"),timeEl=document.querySelector(".time");const startButton=document.getElementById("start");startButton.addEventListener("click",setTime);const scoreDisplay=document.getElementById("result"),initialsClear=document.querySelector(".clearField");let finalScore=document.getElementById("finalScore");const initialsEntry=document.getElementById("initials");let loadFinalScore=document.getElementById("formPost"),displyField=document.getElementById("loadField");var t=60,score=0;function isFieldEmpty(field){return""===field.value.trim()}let initSubmit=document.querySelector("#initSubmit");function loadStart(){$("#initForm").empty(),document.getElementById("testInit").innerHTML="<h5 class='text-center'>Answer Here: <input type='number' id='ans' name='scoreRecord' placeholder = '1,2,3' min='1' max='3'></h5><button class='btn btn-outline-light mx-auto' style='width: 100px;' id='submit'>Submit</button>",document.getElementById("submit").addEventListener("click",chooseFamily)}function setTime(){loadStart(),$("#intro").empty(),$("#startBtn").empty(),displyField.innerHTML="<input type='number' name='finalScore' id='finalScore' class='clearField' style='width: 35px;' required min='1' max='6'> ",event.preventDefault(),finalScore=document.getElementById("finalScore"),loadFinalScore=document.getElementById("formPost"),finalScore.innerHTML="",startButton.innerHTML="",nextQuesArr.push(multiChoices[qIndex].question),quesSection.innerHTML=nextQuesArr;var timerInterval=setInterval((function(){t--,timeEl.textContent=t+" Timer",(0===t||6===qIndex||6===score||t<0)&&(finalScore.value=score,$("#testInit").empty(),loadFinalScore.innerHTML="<label class = 'timeEl'>Submit Your Final Score here!</label><button class='btn btn-outline-light' value='Submit' onclick='clearScore' style='margin-left:5px;' >Final Score</button>",clearInterval(timerInterval),sendMessage(),nextQuesArr=null,setTimeout(quizRepeat,15e3))}),1e3)}function sendMessage(){timeEl.textContent="Test Over!",scoreDisplay.innerHTML="Final Score:",finalScore.innerHTML="Final score : "+score,quesSection.innerHTML="",userChoice="",console.log("score at close :"+score),setTimeout((()=>{$(".modal").hide(),$(document.body).removeClass("modal-open"),$(".modal-backdrop").remove()}),1e3),6===score?setTimeout((function(){alert("Perfect score, congratulations! Submit your final score below!")}),1e3):score>=4?setTimeout((function(){alert("Good score, congratulations! Submit your final score below!")}),1e3):score<4&&score>0?setTimeout((function(){alert("Perhaps you should study up on the viola! (It will make you a better person! Submit your final score below!)")}),1e3):quizRepeat(),initialStorage()}function chooseFamily(){let submitAnsw=document.querySelector("#ans");userChoice=submitAnsw.value,userChoice===multiChoices[qIndex].answer?($("#modal_correct").modal(),$("input").val(""),scoreDisplay.innerHTML="Score: "+parseInt(++score)):($("input").val(""),$("#modal_incorrect").modal(),t+=5),scoreDisplay.innerHTML="Score: "+score,nextQuesArr.push(multiChoices[++qIndex].question),nextQuesArr.shift(multiChoices[qIndex].question),quesSection.innerHTML=nextQuesArr}initSubmit.addEventListener("mouseup",(function(){isFieldEmpty(initialsEntry)?alert("Please enter your initials"):(alert("Initials submitted. Now press start!"),initSubmit.style.visibility="hidden",document.getElementById("start").style="margin-left:25%;margin-right:25%;")})),quizRepeat=()=>location.reload(1/0);const clearScore=()=>{document.getElementById("finalScore").value="",submitAnsw.innerhtml="",quizRepeat()},initialStorage=()=>{const quizStats={PlayerInitials:initStorage.value,finalScore:score};"undefined"!=typeof Storage?console.log(quizStats):document.getElementById("result").innerHTML="Sorry, your browser does not support Web Storage...";((key,value)=>{let RetrievedInput=JSON.parse(localStorage.getItem(key));null===RetrievedInput&&(RetrievedInput=[]),RetrievedInput.push(value),localStorage.setItem(key,JSON.stringify(RetrievedInput)),console.log(localStorage.getItem(key))})("Results",quizStats)};